<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Foundations of Astronomical Data Science: Visualization</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/dc/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/dc/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/dc/favicon-16x16.png"><link rel="manifest" href="favicons/dc/site.webmanifest"><link rel="mask-icon" href="favicons/dc/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/08-plot.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Foundations of Astronomical Data Science
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Foundations of Astronomical Data Science
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Foundations of Astronomical Data Science
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 80%" class="percentage">
    80%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 80%" aria-valuenow="80" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/08-plot.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-query.html">1. Basic Queries</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-coords.html">2. Coordinate Transformations</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-transform.html">3. Plotting and Tabular Data</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-motion.html">4. Plotting and Pandas</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-select.html">5. Transform and Select</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-join.html">6. Join</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-photo.html">7. Photometry</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        8. Visualization
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#making-figures-that-tell-a-story">Making Figures That Tell a Story</a></li>
<li><a href="#plotting-gd-1-with-annotations">Plotting GD-1 with Annotations</a></li>
<li><a href="#customization">Customization</a></li>
<li><a href="#rcparams">rcParams</a></li>
<li><a href="#style-sheets">Style sheets</a></li>
<li><a href="#multiple-panels">Multiple panels</a></li>
<li><a href="#adjusting-proportions">Adjusting proportions</a></li>
<li><a href="#adding-the-shaded-regions">Adding the shaded regions</a></li>
<li><a href="#summary">Summary</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="07-photo.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="index.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="07-photo.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Photometry
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Home
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Visualization</h1>
        <p>Last updated on 2024-03-08 |

        <a href="https://github.com/datacarpentry/astronomy-python/edit/main/episodes/08-plot.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What elements make a compelling visualization that authentically
reports scientific results ready for scientific presentation and
publication?</li>
<li>What tools and techinques are available to save time on creating
presentation and publication-ready figures?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Design a figure that tells a compelling story.</li>
<li>Use Matplotlib features to customize the appearance of figures.</li>
<li>Generate a figure with multiple subplots.</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>In the previous episode, we selected photometry data from Pan-STARRS
and used it to identify stars we think are likely to be in GD-1.</p>
<p>In this episode, we will take the results from previous episodes and
use them to make a figure that tells a compelling scientific story.</p>
<div id="outline" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<span class="callout-header">Checklist</span>
<div id="outline" class="callout-inner">
<h3 class="callout-title">Outline</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li><p>Starting with the figure from the previous episode, we will add
annotations to present the results more clearly.</p></li>
<li><p>Then we will learn several ways to customize figures to make them
more appealing and effective.</p></li>
<li><p>Finally, we will learn how to make a figure with multiple
panels.</p></li>
</ol></div>
</div>
</div>
<div id="starting-from-this-episode" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<span class="callout-header">Prerequisite</span>
<div id="starting-from-this-episode" class="callout-inner">
<h3 class="callout-title">Starting from this episode</h3>
<div class="callout-content">
<p>If you are starting a new notebook for this episode, expand this
section for information you will need to get started.</p>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Read me </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler1" aria-labelledby="headingSpoiler1">
<div class="accordion-body">
<p>In the previous episode, we selected stars in GD-1 based on proper
motion and downloaded the spatial, proper motion, and photometry
information by joining the Gaia and PanSTARRs datasets. We will use that
data for this episode. Whether you are working from a new notebook or
coming back from a checkpoint, reloading the data will save you from
having to run the query again.</p>
<p>If you are starting this episode here or starting this episode in a
new notebook, you will need to run the following lines of code.</p>
<p>This imports previously imported functions:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="im">from</span> matplotlib.patches <span class="im">import</span> Polygon</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="im">from</span> episode_functions <span class="im">import</span> <span class="op">*</span></span></code></pre>
</div>
<p>The following code loads in the data (instructions for downloading
data can be found in the <a href="index.html#setup">setup instructions</a>).
You may need to add a the path to the filename variable below
(e.g. <code>filename = 'student_download/backup-data/gd1_data.hdf'</code>)</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>filename <span class="op">=</span> <span class="st">'gd1_data.hdf'</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>winner_df <span class="op">=</span> pd.read_hdf(filename, <span class="st">'winner_df'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>centerline_df <span class="op">=</span> pd.read_hdf(filename, <span class="st">'centerline_df'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>candidate_df <span class="op">=</span> pd.read_hdf(filename, <span class="st">'candidate_df'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>loop_df <span class="op">=</span> pd.read_hdf(filename, <span class="st">'loop_df'</span>)</span></code></pre>
</div>
<p>This defines previously defined quantities:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>pm1_min <span class="op">=</span> <span class="op">-</span><span class="fl">8.9</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>pm1_max <span class="op">=</span> <span class="op">-</span><span class="fl">6.9</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>pm2_min <span class="op">=</span> <span class="op">-</span><span class="fl">2.2</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>pm2_max <span class="op">=</span>  <span class="fl">1.0</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>pm1_rect, pm2_rect <span class="op">=</span> make_rectangle(</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>    pm1_min, pm1_max, pm2_min, pm2_max)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="making-figures-that-tell-a-story">Making Figures That Tell a Story<a class="anchor" aria-label="anchor" href="#making-figures-that-tell-a-story"></a></h2>
<hr class="half-width"><p>The figures we have made so far have been “quick and dirty”. Mostly
we have used Matplotlib’s default style, although we have adjusted a few
parameters, like <code>markersize</code> and <code>alpha</code>, to
improve legibility.</p>
<p>Now that the analysis is done, it is time to think more about:</p>
<ol style="list-style-type: decimal"><li><p>Making professional-looking figures that are ready for
publication.</p></li>
<li><p>Making figures that communicate a scientific result clearly and
compellingly.</p></li>
</ol><p>Not necessarily in that order.</p>
<p>We will start by reviewing Figure 1 from the original paper. We have
seen the individual panels, but now we will look at the whole figure,
along with the caption:</p>
<figure><img style="max-width: 100%;" src="fig/gd1-5.png" alt="Figure 1 from Price-Whelan and Bonaca paper with four panels and caption. Caption reads: On-sky positions of likely GD-1 members in the GD-1 coordinate system. GD-1 is apparent as an overdensity in negative proper motions (top-right panel, orange box), so selecting on proper motion already reveals the stream in positions of individual stars (top-left panel). The stream also stands out in the color–magnitude diagram (bottom-right panel) as older and more metal-poor than the background. Selecting the main sequence of GD-1 (orange, shaded region in the bottom-right panel) along with proper motion cuts unveils the stream in unprecedented detail (bottom-left panel)." class="figure mx-auto d-block"></figure><div id="exercise-10-minutes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-10-minutes" class="callout-inner">
<h3 class="callout-title">Exercise (10 minutes)</h3>
<div class="callout-content">
<p>Think about the following questions:</p>
<ol style="list-style-type: decimal"><li><p>What is the primary scientific result of this work?</p></li>
<li><p>What story is this figure telling?</p></li>
<li><p>In the design of this figure, can you identify 1 or 2 choices the
authors made that you think are effective? Think about big-picture
elements, like the number of panels and how they are arranged, as well
as details like the choice of typeface.</p></li>
<li><p>Can you identify 1 or 2 elements that could be improved, or that
you might have done differently?</p></li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>No figure is perfect, and everyone can be a critic. Here are some
topics that could come up in this discussion:</p>
<ol style="list-style-type: decimal"><li><p>The primary result is that adding physical selection criteria
makes it possible to separate likely candidates from the background more
effectively than in previous work, which makes it possible to see the
structure of GD-1 in “unprecedented detail,” allowing the authors to
detect that the stream is larger than previously observed.</p></li>
<li><p>The figure documents the selection process as a sequence of
reproducible steps, containing enough information for a skeptical reader
to understand the authors’ choices. Reading right-to-left,
top-to-bottom, we see selection based on proper motion, the results of
the first selection, selection based on stellar surface properties
(color and magnitude), and the results of the second selection. So this
figure documents the methodology, presents the primary result, and
serves as reference for other parts of the paper (and presumably, talk,
if this figure is reused for colloquia).</p></li>
<li><p>The figure is mostly black and white, with minimal use of color,
and mostly uses large fonts. It will likely work well in print and only
needs a few adjustments to be accessible to low vision readers and none
to accommodate those with poor color vision. The annotations in the
bottom left panel guide the reader to the results discussed in the
text.</p></li>
<li><p>The panels that can have the same units, dimensions, and their
axes are aligned, do.</p></li>
<li><p>The on-sky positions likely do not need so much white
space.</p></li>
<li><p>Axes ticks for the on-sky position figures are not necessary
since this is not in an intuitive coordinate system or a finder chart.
Instead, we would suggest size bar annotations for each dimension to
give the reader the needed scale.</p></li>
<li><p>The text annotations could be darker for more contrast and appear
only over white background to increase accessibility</p></li>
<li><p>The legend in the bottom right panel has a font too small for
low-vision readers. At the very least, those details (and the isochrone
line) could be called out in the caption.</p></li>
</ol></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="plotting-gd-1-with-annotations">Plotting GD-1 with Annotations<a class="anchor" aria-label="anchor" href="#plotting-gd-1-with-annotations"></a></h2>
<hr class="half-width"><p>The lower left panel in the paper uses three other features to
present the results more clearly and compellingly:</p>
<ul><li><p>A vertical dashed line to distinguish the previously undetected
region of GD-1,</p></li>
<li><p>A label that identifies the new region, and</p></li>
<li><p>Several annotations that combine text and arrows to identify
features of GD-1.</p></li>
</ul><div id="exercise-20-minutes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-20-minutes" class="callout-inner">
<h3 class="callout-title">Exercise (20 minutes)</h3>
<div class="callout-content">
<p>Plot the selected stars in <code>winner_df</code> using the
<code>plot_cmd_selection</code> function and then choose any or all of
these features and add them to the figure:</p>
<ul><li><p>To draw vertical lines, see <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.vlines.html" class="external-link"><code>plt.vlines</code></a>
and <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.axvline.html" class="external-link"><code>plt.axvline</code></a>.</p></li>
<li><p>To add text, see <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.text.html" class="external-link"><code>plt.text</code></a>.</p></li>
<li><p>To add an annotation with text and an arrow, see <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.annotate.html" class="external-link"><code>plt.annotate</code></a>.</p></li>
</ul><p>Here is some <a href="https://matplotlib.org/stable/tutorials/text/annotations.html" class="external-link">additional
information about text and arrows</a>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="fl">2.5</span>))</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>plot_cmd_selection(winner_df)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>plt.axvline(<span class="op">-</span><span class="dv">55</span>, ls<span class="op">=</span><span class="st">'--'</span>, color<span class="op">=</span><span class="st">'gray'</span>, </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>            alpha<span class="op">=</span><span class="fl">0.4</span>, dashes<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>), lw<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>plt.text(<span class="op">-</span><span class="dv">60</span>, <span class="fl">5.5</span>, <span class="st">'Previously</span><span class="ch">\n</span><span class="st">undetected'</span>, </span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>         fontsize<span class="op">=</span><span class="st">'small'</span>, ha<span class="op">=</span><span class="st">'right'</span>, va<span class="op">=</span><span class="st">'top'</span>)</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>arrowprops<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'gray'</span>, shrink<span class="op">=</span><span class="fl">0.05</span>, width<span class="op">=</span><span class="fl">1.5</span>, </span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>                headwidth<span class="op">=</span><span class="dv">6</span>, headlength<span class="op">=</span><span class="dv">8</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>plt.annotate(<span class="st">'Spur'</span>, xy<span class="op">=</span>(<span class="op">-</span><span class="dv">33</span>, <span class="dv">2</span>), xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">35</span>, <span class="fl">5.5</span>),</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>             arrowprops<span class="op">=</span>arrowprops,</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="st">'small'</span>)</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>plt.annotate(<span class="st">'Gap'</span>, xy<span class="op">=</span>(<span class="op">-</span><span class="dv">22</span>, <span class="op">-</span><span class="dv">1</span>), xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">25</span>, <span class="op">-</span><span class="fl">5.5</span>),</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>             arrowprops<span class="op">=</span>arrowprops,</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="st">'small'</span>)<span class="op">;</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="customization">Customization<a class="anchor" aria-label="anchor" href="#customization"></a></h2>
<hr class="half-width"><p>Matplotlib provides a default style that determines things like the
colors of lines, the placement of labels and ticks on the axes, and many
other properties.</p>
<p>There are several ways to override these defaults and customize your
figures:</p>
<ul><li><p>To customize only the current figure, you can call functions like
<code>tick_params</code>, which we will demonstrate below.</p></li>
<li><p>To customize all figures in a notebook, you can use
<code>rcParams</code>.</p></li>
<li><p>To override more than a few defaults at the same time, you can
use a style sheet.</p></li>
</ul><p>As a simple example, notice that Matplotlib puts ticks on the outside
of the figures by default, and only on the left and bottom sides of the
axes.</p>
<div id="note-on-accessibility" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="note-on-accessibility" class="callout-inner">
<h3 class="callout-title">Note on Accessibility</h3>
<div class="callout-content">
<p>Customization offers a high degree of personalization for creating
scientific visualizations. It is important to also create accessible
visualizations for a broad audience that may include low-vision or
color-blind individuals. The AAS Journals provide a Graphics Guide for
authors with tips and external links that can help you produce more
accessible graphics: <a href="https://journals.aas.org/graphics-guide/" class="external-link">https://journals.aas.org/graphics-guide/</a></p>
</div>
</div>
</div>
<p>So far, everything we have wanted to do we could call directly from
the pyplot module with <code>plt.</code>. As you do more and more
customization you may need to run some methods on plotting objects
themselves. To use the method that changes the direction of the ticks we
need an <code>axes</code> object. So far, Matplotlib has implicitly
created our <code>axes</code> object when we called
<code>plt.plot</code>. To explicitly create an <code>axes</code> object
we can first create our <code>figure</code> object and then add an
<code>axes</code> object to it.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="fl">2.5</span>))</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span></code></pre>
</div>
<div id="subplot-and-axes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="subplot-and-axes" class="callout-inner">
<h3 class="callout-title">
<code>subplot</code> and
<code>axes</code>
</h3>
<div class="callout-content">
<p>Confusingly, in Matplotlib the objects <code>subplot</code> and
<code>axes</code> are often used interchangeably. This is because a
<code>subplot</code> is an <code>axes</code> object with additional
methods and attributes.</p>
</div>
</div>
</div>
<p>You can use the <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.add_subplot" class="external-link"><code>add_subplot</code></a>
method to add more than one <code>axes</code> object to a figure. For
this reason you have to specify the total number of columns, total
number of rows, and which plot number you are creating
(<code>fig.add_subplot(ncols, nrows, pltnum)</code>). The plot number
starts in the upper left corner and goes left to right and then top to
bottom. In the example above we have one column, one row, and we’re
plotting into the first plot space.</p>
<p>Now we are ready to change the direction of the ticks to the inside
of the axes using our new axes object.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="fl">2.5</span>))</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>ax.tick_params(direction<span class="op">=</span><span class="st">'in'</span>)</span></code></pre>
</div>
<div id="exercise-5-minutes" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>Read the documentation of <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.tick_params.html" class="external-link"><code>tick_params</code></a>
and use it to put ticks on the top and right sides of the axes.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="fl">2.5</span>))</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>ax.tick_params(top<span class="op">=</span><span class="va">True</span>, right<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="rcparams">rcParams<a class="anchor" aria-label="anchor" href="#rcparams"></a></h2>
<hr class="half-width"><p>If you want to make a customization that applies to all figures in a
notebook, you can use <code>rcParams</code>. When you import Matplotlib,
a dictionary is created with default values for everything you can
change about your plot. This is what you are overriding with
<code>tick_params</code> above.</p>
<p>Here is an example that reads the current font size from
<code>rcParams</code>:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>plt.rcParams[<span class="st">'font.size'</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">10.0</span></span></code></pre>
</div>
<p>And sets it to a new value:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>plt.rcParams[<span class="st">'font.size'</span>] <span class="op">=</span> <span class="dv">14</span></span></code></pre>
</div>
<div id="exercise-5-minutes-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes-1" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>Plot the previous figure again, and see what font sizes have changed.
Look up any other element of <code>rcParams</code>, change its value,
and check the effect on the figure.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="fl">2.5</span>))</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>ax.tick_params(top<span class="op">=</span><span class="va">True</span>, right<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="co"># Looking up the 'axes.edgecolor' rcParams value</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="bu">print</span>(plt.rcParams[<span class="st">'axes.edgecolor'</span>])</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>plt.rcParams[<span class="st">'axes.edgecolor'</span>] <span class="op">=</span> <span class="st">'red'</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="fl">2.5</span>))</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>ax.tick_params(top<span class="op">=</span><span class="va">True</span>, right<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co"># changing the rcParams value back to its original value</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>plt.rcParams[<span class="st">'axes.edgecolor'</span>] <span class="op">=</span> <span class="st">'black'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>When you import Matplotlib, <code>plt.rcParams</code> is populated
from a matplotlibrc file. If you want to permanently change a setting
for every plot you make, you can set that in your matplotlibrc file. To
find out where your matplotlibrc file lives type:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>mpl.matplotlib_fname()</span></code></pre>
</div>
<p>If the file doesn’t exist, you can download <a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html#matplotlibrc-sample" class="external-link">a
sample matplotlibrc file</a> to modify.</p>
</section><section><h2 class="section-heading" id="style-sheets">Style sheets<a class="anchor" aria-label="anchor" href="#style-sheets"></a></h2>
<hr class="half-width"><p>It is possible that you would like multiple sets of defaults, for
example, one default for plots for scientific papers and another for
talks or posters. Because the <code>matplotlibrc</code> file is read
when you import Matplotlib, it is not easy to switch from one set of
options to another.</p>
<p>The solution to this problem is style sheets, <a href="https://matplotlib.org/stable/tutorials/introductory/customizing.html" class="external-link">which
you can read about here</a>.</p>
<p>Matplotlib provides a set of predefined style sheets, or you can make
your own. The <a href="https://matplotlib.org/stable/gallery/style_sheets/style_sheets_reference.html" class="external-link">style
sheets reference</a> shows a gallery of plots generated by common style
sheets.</p>
<p>You can display a list of style sheets installed on your system.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>plt.style.available</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['Solarize_Light2',
 '_classic_test_patch',
 'bmh',
 'classic',
 'dark_background',
 'fast',
 'fivethirtyeight',
 'ggplot',
 'grayscale',
 'seaborn',
 'seaborn-bright',
[Output truncated]</code></pre>
</div>
<p>Note that <code>seaborn-paper</code>, <code>seaborn-talk</code> and
<code>seaborn-poster</code> are particularly intended to prepare
versions of a figure with text sizes and other features that work well
in papers, talks, and posters.</p>
<p>To use any of these style sheets, run <code>plt.style.use</code> like
this:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>plt.style.use(<span class="st">'fivethirtyeight'</span>)</span></code></pre>
</div>
<p>The style sheet you choose will affect the appearance of all figures
you plot after calling <code>use</code>, unless you override any of the
options or call <code>use</code> again.</p>
<div id="return-to-default" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="return-to-default" class="callout-inner">
<h3 class="callout-title">Return to Default</h3>
<div class="callout-content">
<p>To switch back to the default style use</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="exercise-5-minutes-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes-2" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>Choose one of the styles on the list and select it by calling
<code>use</code>. Then go back and plot one of the previous figures to
see what changes in the figure’s appearance.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>plt.style.use(<span class="st">'seaborn-bright'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>plot_cmd(candidate_df)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>plt.plot(left_color, g, label<span class="op">=</span><span class="st">'left color'</span>)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>plt.plot(right_color, g, label<span class="op">=</span><span class="st">'right color'</span>)</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>plt.legend()<span class="op">;</span></span></code></pre>
</div>
<p>If you cannot find a style sheet that is exactly what you want, you
can make your own. This repository includes a style sheet called
<code>az-paper-twocol.mplstyle</code>, with customizations chosen by
Azalee Bostroem for publication in astronomy journals.</p>
</div>
</div>
</div>
</div>
<p>You can use it like this:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>plt.style.use(<span class="st">'./az-paper-twocol.mplstyle'</span>)</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>plot_cmd(candidate_df)</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>plt.plot(left_color, g, label<span class="op">=</span><span class="st">'left color'</span>)</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>plt.plot(right_color, g, label<span class="op">=</span><span class="st">'right color'</span>)</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>plt.legend()<span class="op">;</span></span></code></pre>
</div>
<p>The prefix <code>./</code> tells Matplotlib to look for the file in
the current directory.</p>
<p>As an alternative, you can install a style sheet for your own use by
putting it into a directory named <code>stylelib/</code> in your
configuration directory.<br>
To find out where the Matplotlib configuration directory is, you can run
the following command:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>mpl.get_configdir()</span></code></pre>
</div>
</section><section><h2 class="section-heading" id="multiple-panels">Multiple panels<a class="anchor" aria-label="anchor" href="#multiple-panels"></a></h2>
<hr class="half-width"><p>So far we have been working with one figure at a time, but the figure
we are replicating contains multiple panels. We will create each of
these panels as a different subplot. Matplotlib has multiple functions
for making figures with multiple panels. We have already used <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.add_subplot" class="external-link"><code>add_subplot</code></a>
- however, this creates equal sized panels. For this reason, we will use
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplot2grid.html" class="external-link"><code>subplot2grid</code></a>
which allows us to control the relative sizes of the panels.</p>
<p>Since we have already written functions that generate each panel of
this figure, we can now create the full multi-panel figure by creating
each subplot and then run our plotting function.</p>
<p>Like <a href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.add_subplot" class="external-link"><code>add_subplot</code></a>,
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.subplot2grid.html" class="external-link"><code>subplot2grid</code></a>
requires us to specify the total number of columns and rows in the grid
(this time as a tuple called <code>shape</code>), and the location of
the subplot (<code>loc</code>) - a tuple identifying the location in the
grid we are about to fill.</p>
<p>In this example, <code>shape</code> is <code>(2, 2)</code> to create
two rows and two columns.</p>
<p>For the first panel, <code>loc</code> is <code>(0, 0)</code>, which
indicates row 0 and column 0, which is the upper-left panel.</p>
<p>Here is how we use this function to draw the four panels.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>shape <span class="op">=</span> (<span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>ax1 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>plot_pm_selection(candidate_df)</span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a>ax2 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a>plot_proper_motion(centerline_df)</span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a>ax3 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a>plot_cmd_selection(winner_df)</span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a>ax4 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a>plot_cmd(candidate_df)</span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a>plt.tight_layout()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Figure size 640x480 with 4 Axes&gt;</code></pre>
</div>
<figure><img src="fig/08-plot_files/08-plot_equal_size_fig1.png" alt="Four paneled plot showing our first recreation of figure 1 from the Price-Whelan and Bonaca paper." class="figure mx-auto d-block"></figure><p>We use <a href="https://matplotlib.org/stable/tutorials/intermediate/tight_layout_guide.html" class="external-link"><code>plt.tight_layout</code></a>
at the end, which adjusts the sizes of the panels to make sure the
titles and axis labels don’t overlap. Notice how convenient it is that
we have written functions to plot each panel. This code is concise and
readable: we can tell what is being plotted in each panel thanks to our
explicit function names and we know what function to investigate if we
want to see the mechanics of exactly how the plotting is done.</p>
<div id="exercise-5-minutes-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes-3" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>What happens if you leave out <code>tight_layout</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<p>Without <code>tight_layout</code> the space between the panels is too
small. In this situation, the titles from the lower plots overlap with
the x-axis labels from the upper panels and the axis labels from the
right-hand panels overlap with the plots in the left-hand panels.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="adjusting-proportions">Adjusting proportions<a class="anchor" aria-label="anchor" href="#adjusting-proportions"></a></h2>
<hr class="half-width"><p>In the previous figure, the panels are all the same size. To get a
better view of GD-1, we would like to stretch the panels on the left and
compress the ones on the right.</p>
<p>To do that, we will use the <code>colspan</code> argument to make a
panel that spans multiple columns in the grid. To do this we will need
more columns so we will change the <code>shape</code> from (2,2) to
(2,4).</p>
<p>The panels on the left span three columns, so they are three times
wider than the panels on the right.</p>
<p>At the same time, we use <code>figsize</code> to adjust the aspect
ratio of the whole figure.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>, <span class="fl">4.5</span>))</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>shape <span class="op">=</span> (<span class="dv">2</span>, <span class="dv">4</span>)</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>ax1 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">0</span>), colspan<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>plot_pm_selection(candidate_df)</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>ax2 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">3</span>))</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>plot_proper_motion(centerline_df)</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>ax3 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">0</span>), colspan<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>plot_cmd_selection(winner_df)</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>ax4 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a>plot_cmd(candidate_df)</span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" tabindex="-1"></a>plt.tight_layout()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Figure size 900x450 with 4 Axes&gt;</code></pre>
</div>
<figure><img src="fig/08-plot_files/08-plot_adjusted_size_fig1.png" alt="Four paneled plot we created above with two left-hand panels increased in width." class="figure mx-auto d-block"></figure><p>This is looking more and more like the figure in the paper.</p>
<div id="exercise-5-minutes-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes-4" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>In this example, the ratio of the widths of the panels is 3:1. How
would you adjust it if you wanted the ratio to be 3:2?</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>, <span class="fl">4.5</span>))</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>shape <span class="op">=</span> (<span class="dv">2</span>, <span class="dv">5</span>)                                   <span class="co"># CHANGED</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>ax1 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">0</span>), colspan<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>plot_pm_selection(candidate_df)</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>ax2 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">3</span>), colspan<span class="op">=</span><span class="dv">2</span>)       <span class="co"># CHANGED</span></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a>plot_proper_motion(centerline_df)</span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a>ax3 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">0</span>), colspan<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a>plot_cmd_selection(winner_df)</span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a>ax4 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">3</span>), colspan<span class="op">=</span><span class="dv">2</span>)       <span class="co"># CHANGED</span></span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a>plot_cmd(candidate_df)</span>
<span id="cb24-16"><a href="#cb24-16" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" tabindex="-1"></a>plt.tight_layout()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="adding-the-shaded-regions">Adding the shaded regions<a class="anchor" aria-label="anchor" href="#adding-the-shaded-regions"></a></h2>
<hr class="half-width"><p>The one thing our figure is missing is the shaded regions showing the
stars selected by proper motion and around the isochrone in the color
magnitude diagram.</p>
<p>In episode 4 we defined a rectangle in proper motion space around the
stars in GD-1. We stored the x-values of the vertices of this rectangle
in <code>pm1_rect</code> and the y-values as <code>pm2_rect</code>.</p>
<p>To plot this rectangle, we will use the Matplotlib
<code>Polygon</code> object which we used in episode 7 to check which
points were inside the polygon. However, this time we will be plotting
the <code>Polygon</code>.</p>
<p>To create a <code>Polygon</code>, we have to put the coordinates of
the rectangle in an array with <code>x</code> values in the first column
and <code>y</code> values in the second column.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a>vertices <span class="op">=</span> np.transpose([pm1_rect, pm2_rect])</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>vertices</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([[-8.9, -2.2],
       [-8.9,  1. ],
       [-6.9,  1. ],
       [-6.9, -2.2]])</code></pre>
</div>
<p>We will now create the <code>Polygon</code>, specifying its display
properties which will be used when it is plotted. We will specify
<code>closed=True</code> to make sure the shape is closed,
<code>facecolor='orange</code> to color the inside of the
<code>Polygon</code> orange, and <code>alpha=0.4</code> to make the
<code>Polygon</code> semi-transparent.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>poly <span class="op">=</span> Polygon(vertices, closed<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>                   facecolor<span class="op">=</span><span class="st">'orange'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span></code></pre>
</div>
<p>Then to plot the <code>Polygon</code> we call the
<code>add_patch</code> method. <code>add_patch</code> like
<code>tick_params</code> must be called on an <code>axes</code> or
<code>subplot</code> object, so we will create a <code>subplot</code>
and then add the <code>Patch</code> to the <code>subplot</code>.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>poly <span class="op">=</span> Polygon(vertices, closed<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>                   facecolor<span class="op">=</span><span class="st">'orange'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>ax.add_patch(poly)</span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>ax.set_xlim(<span class="op">-</span><span class="dv">10</span>, <span class="fl">7.5</span>)</span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a>ax.set_ylim(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Figure size 900x450 with 4 Axes&gt;</code></pre>
</div>
<figure><img src="fig/08-plot_files/08-poly_example.png" alt="An orange rectangle at the coordinates used to select stars based on proper motion." class="figure mx-auto d-block"></figure><p>We can now call our plot_proper_motion function to plot the proper
motion for each star, and the add a shaded <code>Polygon</code> to show
the region we selected.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>plot_proper_motion(centerline_df)</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>poly <span class="op">=</span> Polygon(vertices, closed<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>               facecolor<span class="op">=</span><span class="st">'C1'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a>ax.add_patch(poly)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Figure size 900x450 with 4 Axes&gt;</code></pre>
</div>
<figure><img src="fig/08-plot_files/08-plot_53_0.png" alt="Proper motion with overlaid polygon showing our selected stars." class="figure mx-auto d-block"></figure><div id="exercise-5-minutes-5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes-5" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>Add a few lines to be run after the <code>plot_cmd</code> function to
show the polygon we selected as a shaded area.</p>
<p>Hint: pass <code>loop_df</code> as an argument to
<code>Polygon</code> as we did in episode 7 and then plot it using
<code>add_patch</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Show me the solution </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>poly_cmd <span class="op">=</span> Polygon(loop_df, closed<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>              facecolor<span class="op">=</span><span class="st">'C1'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>ax.add_patch(poly_cmd)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="exercise-5-minutes-6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Challenge</span>
<div id="exercise-5-minutes-6" class="callout-inner">
<h3 class="callout-title">Exercise (5 minutes)</h3>
<div class="callout-content">
<p>Add the <code>Polygon</code> patches you just created to the right
panels of the four panel figure.</p>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Show me the solution </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" data-bs-parent="#accordionSolution9" aria-labelledby="headingSolution9">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>, <span class="fl">4.5</span>))</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>shape <span class="op">=</span> (<span class="dv">2</span>, <span class="dv">4</span>)</span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>ax1 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">0</span>), colspan<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>plot_pm_selection(candidate_df)</span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a>ax2 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">0</span>, <span class="dv">3</span>))</span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a>plot_proper_motion(centerline_df)</span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a>poly <span class="op">=</span> Polygon(vertices, closed<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a>               facecolor<span class="op">=</span><span class="st">'orange'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb33-11"><a href="#cb33-11" tabindex="-1"></a>ax2.add_patch(poly)</span>
<span id="cb33-12"><a href="#cb33-12" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" tabindex="-1"></a>ax3 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">0</span>), colspan<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb33-14"><a href="#cb33-14" tabindex="-1"></a>plot_cmd_selection(winner_df)</span>
<span id="cb33-15"><a href="#cb33-15" tabindex="-1"></a></span>
<span id="cb33-16"><a href="#cb33-16" tabindex="-1"></a>ax4 <span class="op">=</span> plt.subplot2grid(shape, (<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb33-17"><a href="#cb33-17" tabindex="-1"></a>plot_cmd(candidate_df)</span>
<span id="cb33-18"><a href="#cb33-18" tabindex="-1"></a>poly_cmd <span class="op">=</span> Polygon(loop_df, closed<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb33-19"><a href="#cb33-19" tabindex="-1"></a>               facecolor<span class="op">=</span><span class="st">'orange'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb33-20"><a href="#cb33-20" tabindex="-1"></a>ax4.add_patch(poly_cmd)</span>
<span id="cb33-21"><a href="#cb33-21" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" tabindex="-1"></a>plt.tight_layout()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Figure size 900x450 with 4 Axes&gt;</code></pre>
</div>
<figure><img src="fig/08-plot_files/08-plot_72_0.png" alt="Four paneled plot we created above with two left-hand panels increased in width." class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a></h2>
<hr class="half-width"><p>In this episode, we reverse-engineered the figure we have been
replicating, identifying elements that seem effective and others that
could be improved.</p>
<p>We explored features Matplotlib provides for adding annotations to
figures – including text, lines, arrows, and polygons – and several ways
to customize the appearance of figures. And we learned how to create
figures that contain multiple panels.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul><li>Effective figures focus on telling a single story clearly and
authentically. The major decisions needed in creating an effective
summary figure like this one can be done away from a computer and built
up from low fidelity (hand drawn) to high (tweaking rcParams,
etc.).</li>
<li>Consider using annotations to guide the reader’s attention to the
most important elements of a figure, while keeping in mind accessiblity
issues that such detail may introduce.</li>
<li>The default Matplotlib style generates good quality figures, but
there are several ways you can override the defaults.</li>
<li>If you find yourself making the same customizations on several
projects, you might want to create your own style sheet.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="07-photo.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="index.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="07-photo.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Photometry
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Home
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/datacarpentry/astronomy-python/edit/main/episodes/08-plot.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/datacarpentry/astronomy-python/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/astronomy-python/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/astronomy-python/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.1" class="external-link">sandpaper (0.17.1)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.7" class="external-link">varnish (1.0.7)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://datacarpentry.github.io/astronomy-python/08-plot.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Visualization",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/astronomy-python/08-plot.html",
  "identifier": "https://datacarpentry.github.io/astronomy-python/08-plot.html",
  "dateCreated": "2020-05-11",
  "dateModified": "2024-03-08",
  "datePublished": "2025-08-26"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

